---
layout: section
---

## Архітектурні принципи проектування розподілених інформаційних систем

Сервіс-оріентована архітектура

---
    layout: center
---

**Сервіс-орієнтована архітектура** (Service-Oriented Architecture, SOA) – модульний підхід до розробки програмного забезпечення, що базується на використанні розподілених, слабо пов’язаних (англ. Low Coupling) замінних компонентів, оснащених стандартизованими інтерфейсами для взаємодії за стандартизованими протоколами. Програмні комплекси, розроблені відповідно до сервіс-орієнтованої архітектури, зазвичай реалізуються як набір веб-служб, взаємодіючих по стандартним мережевим протоколам. 
Інтерфейси компонентів в сервіс-орієнтованої архітектури інкапсулюють деталі реалізації (операційну систему, платформу, мову програмування) від інших компонентів, таким чином забезпечуючи ***комбінування і багаторазове використання компонентів*** для побудови складних розподілених програмних комплексів, забезпечуючи незалежність від використовуваних платформ та інструментів розробки, сприяючи масштабованості і керованості створюваних систем.

***Сервісні компоненти*** (чи сервіси) описуються програмними компонентами, що
забезпечують прозору мережеву адресацію. Сервіси - це відкриті, самовизначальні
компоненти, що підтримують швидку побудову розподілених застосунків.


---

## Сервіс-оріентована архітектура 

SaaS

***Програмне забезпечення як послуга*** ( 
    SaaS 
, англ. Software-as-a-Service) – модель, в
якій споживачеві надається можливість використання прикладного програмного
забезпечення провайдера, що працює в хмарній інфраструктурі і доступного з різних
клієнтських пристроїв або за допомогою тонкого клієнта, наприклад, з браузеру (веб-пошта)
або інтерфейс програми. 

Контроль і управління основною фізичною і віртуальною
інфраструктурою хмари, у тому числі мережі, серверів, операційних систем, зберігання, або
навіть індивідуальних можливостей додатка (за винятком обмеженого набору призначених
для користувача налаштувань конфігурації додатка) здійснюється хмарним провайдером.

---

## Сервіс-оріентована архітектура 

PaaS

***Платформа як послуга*** (PaaS, англ. Platform-as-a-Service) – модель, коли
споживачеві надається можливість використання хмарної інфраструктури для розміщення
базового програмного забезпечення для наступного розміщення на ньому нових або існуючих
застосувань (власних, розроблених на замовлення або придбаних тиражованих застосувань).

До складу таких платформ входять інструментальні засоби створення, тестування і
виконання прикладного програмного забезпечення – системи управління базами даних,
єднальне програмне забезпечення, середовища виконання мов програмування. 

Контроль і управління основною фізичною і віртуальною
інфраструктурою хмари, у тому числі мережі, серверів, операційних систем, зберігання
здійснюється хмарним провайдером, за винятком розроблених або встановлених
застосувань, а також, по можливості, параметрів конфігурації середовища (платформи).

---

## Сервіс-оріентована архітектура 

IaaS

***Інфраструктура як послуга*** (IaaS, англ. IaaS or Infrastructure-as-a-Service) –
надається як можливість використання хмарної інфраструктури для самостійного управління
ресурсами обробки, зберігання, мереж і іншими фундаментальними обчислювальними
ресурсами, наприклад, споживач може встановлювати і запускати довільне програмне
забезпечення, яке може включати операційні системи, платформене і прикладне програмне
забезпечення. Споживач може контролювати операційні системи, віртуальні системи
зберігання даних і встановлені застосування, а також має обмежений контроль набору доступних
сервісів (наприклад, міжмережевий екран, DNS). 

Контроль і управління основною фізичною і
віртуальною інфраструктурою хмари, у тому числі мережі, серверів, типів використовуваних
операційних систем, систем зберігання здійснюється хмарним провайдером.

---


## Сервіс-оріентована архітектура 

&nbsp;

***Інтерфейс*** забезпечує опис можливостей і якості послуг, що надаються, конкретним
сервісом. У інтерфейсі визначається формат повідомлень, використовуваний для обміну
інформацією, а також вхідні і вихідні параметри методів, підтримуваних сервісним
компонентом. Від вибору мови і способу опису інтерфейсу залежать можливості програмної
сумісності різних реалізацій сервіс-орієнтованої архітектури.

***Транспорт*** забезпечує обмін інформацією між окремими сервісними компонентами.
Разом з відкритими стандартами опису інтерфейсів, використання гнучких транспортних
протоколів для обміну інформацією між сервісними компонентами дозволяє підвищити
програмну сумісність сервіс-орієнтованої системи.

***Реєстри*** сервісів використовуються для пошуку сервісних компонентів, що
забезпечують необхідну функціональність. Серед усієї множини різних систем, що
забезпечують виявлення сервісів, можна виділити дві основні категорії: системи
динамічного виявлення і системи статичного виявлення. *Статичні* системи виявлення сервісів (наприклад, UDDI) орієнтовані на зберігання інформації про сервіси в системах, що рідко змінюються. *Динамічні* системи виявлення сервісів орієнтовані на системи, в яких допустима
часта поява і зникнення сервісних компонентів. 

---


## Сервіс-оріентована архітектура 

&nbsp;

Найчастіше для реалізації сервіс-орієнтованої архітектури використовуються ***веб-сервіси*** – слабозв'язані програмні компоненти, що підтримують багатократне використання, які
семантично інкапсулюють окремі функціональні можливості і програмним чином доступні
по стандартних протоколах Інтернету. Веб-сервіси незалежні від платформи і мови
програмування, оскільки базуються на обміні даними в форматах XML, JSON.

Більшість веб-сервісів використовують HTTP для передачі повідомлень. Це дає значну
перевагу при розробці розподілених застосунків в масштабі Інтернет, оскільки зазвичай
брандмауери і проксі-сервери без обмежень пропускають HTTP-трафік, і в процесі взаємодії
не виникає несподіваних труднощів.


---


## Сервіс-оріентована архітектура 

&nbsp;

SOA передбачає наявність трьох основних учасників : постачальника сервісу, споживача сервісу і реєстру сервісів . Постачальник сервісу реєструє свої сервіси в реєстрі, а споживач звертається до реєстру із запитом на виявлення сервісу, після чого взаємодіє з ним.

<center style="padding: 1em; margin:2em;">

@startuml

cloud Service {
    [Service Component]
}

cloud ServiceRegistry as "Service Registry" {
    [Service Registry Component]
}

cloud  Client {
    [Service Orchestrator]
}

[Service Component] .u.> [Service Registry Component]: over HTTP
[Service Component] <. [Service Orchestrator]: over HTTP
[Service Orchestrator] .u.> [Service Registry Component]: over HTTP


@enduml

</center>

---
    layout: two-cols
---


<center style="padding: 1em; margin: 1em;">

@startuml

participant Client

participant SR as "Service Registry"

participant Service

Service -> SR : register
SR -> SR
SR --> Service
...

SR -> Service: heartbeat
SR <-- Service: health
...

Client -> SR: find
Client <-- SR: service endpoint
Client -> Service: request
Client <-- Service: response



@enduml

</center>

::right::

## Сервіс-оріентована архітектура 


Постачальник сервісу і його споживач виявляються незв'язаними - вони спілкуються за допомогою повідомлень. Оскільки інтерфейс повинен не залежати від платформи, то і технологія, використовувана для визначення повідомлень, також повинна не залежати від платформи. 


---

## Сервіс-оріентована архітектура 

&nbsp;

SOA не прив'язана до жорсткої методології
проектування, впровадження або управління ІТ-інфраструктурою. Вона обмежується лише
низкою принципів:
- *Розподілене проектування*. Рішення відносно внутрішніх особливостей
інформаційних систем приймаються різними групами людей, що мають власні організаційні,
політичні і економічні мотиви.
- *Постійність змін*. Окремі аспекти архітектури можуть зазнавати зміни у будь-який
момент часу.
- *Послідовне вдосконалення*. Локальне поліпшення компонентів системи повинне
призводити до вдосконалення усієї системи в цілому – до зростання сумарної корисності
компонентів того ж рівня, що і змінюваний, так само як і компонентів нижчого і більш високого


---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

***Сервіси повинні підтримувати повторне використання***. SOA-системи повинні
підтримувати повторне використання усіх сервісів, незалежно від миттєвих вимог до їх
функціональних особливостей. Якщо при розробці системи постаратися максимально 
врахувати цю вимогу, то підвищуються шанси значно спростити процес рішення завдань, які
неодмінно з'являться в майбутньому, при розвитку системи. Також спочатку орієнтований на
повторне використання сервіс дозволяє уникнути розробки "обгортки", яка б підлаштовувала
старий сервіс для вирішення нових завдань. Оскільки сервіс – набір взаємопов'язаних операцій, логіка
кожної індивідуальної операції, що надається сервісом, повинна підтримувати повторне
використання.

---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

***Сервіси повинні забезпечувати формальний контракт використання***. Контракт
сервісу надає наступну інформацію: кінцеву точку (service endpoint): адресу, по якій можна
звернутися до цього сервісу; усі операції, що надаються сервісом; усі повідомлення,
підтримувані кожною операцією; правила і характеристики сервісу і його операцій.

***Сервіси мають бути слабопов’язані***. Система сервісів є слабопов'язаною,
якщо сервіс може отримувати інформацію про інший сервіс, залишаючись незалежним від
внутрішньої реалізації логіки цього сервісу. Це досягається за допомогою використання
контрактів сервісів. Слабопов’язаність програмних компонентів, що лежить в основі SOA,
дозволяє значно спростити координацію розподілених систем і їх реконфігурацію. 

***Сервіси повинні абстрагувати внутрішню логіку***. Кожен сервіс повинен діяти як
"чорний ящик", що приховує свої деталі від навколишнього світу. Немає чіткого визначення,
який об'єм логіки повинен поміщатися в окремому сервісі. 

---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

***Сервіси мають бути сумісні***. Сервіс може як самостійно реалізовувати логіку, так і
застосовувати інші сервіси для її реалізації. Сервіси мають бути спроектовані так, щоб
підтримувати можливість їх використання як елементи іншого сервісу. Принцип сумісності
не залежить від того, чи використовує сервіс для виконання своєї роботи інші сервіси. Як
приклад такої взаємодії сервісів виступає концепція оркестрації сервісів. В цьому випадку,
сервіс-орієнтований процес (який в принципі може бути визначений як композиція сервісів)
управляється сервісом батьківського процесу, який включає інші сервіси, що є учасниками
цього процесу. 


---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

***Сервіси мають бути автономними***. Властивість автономності вимагає, щоб область
бізнес-логіки і ресурсів, використовуваних сервісом були обмежені явними межами. Це
дозволяє сервісу самому управляти усіма своїми процесами. Також це усуває залежність від 
інших сервісів, що звільняє сервіс від зв'язків, які можуть перешкоджати його застосуванню і
розвитку. Питання автономності – найбільш важливий аргумент при розподілі бізнес-логіки
на окремі сервіси.

---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

***Сервіси не повинні використовувати інформацію про стан.*** Сервіси повинні зводити
до мінімуму об'єм інформації про стан, і час, протягом якого вони його контролюють. 
Інформація про
стан – це певні дані, що характеризують поточну діяльність. Якщо сервіс несе
відповідальність за збереження стану протягом тривалішого часу, його здатність залишатися
доступним для інших клієнтів буде ускладнена. Незалежність від стану (statelessness)
дозволяє підвищити можливості масштабованості і повторного використання сервісів. 

---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

***Сервіси повинні підтримувати виявлення.***  Метадані сервісу
повинні детально описати не лише загальну мету сервісу, але і функціональність, що
реалізовується його операціями. На рівні СОА виявлення характеризує здатність
архітектури забезпечити механізми пошуку, такі як реєстр або каталог. На рівні сервісу,
принцип виявлення відноситься до процесу проектування окремого сервісу, так щоб цей
сервіс настільки піддавався виявленню, наскільки це можливо.

---

## Сервіс-оріентована архітектура 

Принципи реалізації інфраструктури

- ***Сервіси повинні підтримувати повторне використання***
- ***Сервіси повинні забезпечувати формальний контракт використання***
- ***Сервіси мають бути слабопов’язані***
- ***Сервіси повинні абстрагувати внутрішню логіку***
- ***Сервіси мають бути сумісні***
- ***Сервіси мають бути автономними***
- ***Сервіси не повинні використовувати інформацію про стан.***
- ***Сервіси повинні підтримувати виявлення.***

